# 複雑な制限

を指定する場合**ファセット・パラメータ**を指定することができます。**シンプルな価値**または**複雑な制限**. A**シンプルな価値**はテキスト、数値、またはブーリアン（TRUE / FALSE）です。 対照的に**複雑な制限**制限は4つの異なる方法で指定することができる：

- 列挙
- パターン
- 限度
- 長さ

## 列挙

アン**列挙**制限は、値が許容値のリストのいずれかでなければならないことを意味します。 例えば、材料が "concrete "または "steel "のいずれかであることを指定したい場合があります。

例えば、コンクリート強度等級を「25」、「30」、「35」、「40」のいずれかに指定することができます。**列挙**しかし、彼らが "31 "を選んだ場合、それはない。

TRUE "や "FALSE "といったブール値を指定することもできるが、ブール値の性質上、ユーザーは常に "TRUE "か "FALSE "のどちらかを選択しなければならないため、一般的に列挙型としてブール値を指定することは無意味である。

許容値のリストを指定しても、ユーザーはそのリストから1つの値しか選択できないことに注意してください。

## パターン

A**パターン**例えば、ドア・タイプに DT01、DT02、DT03 などの命名規則で命名することを指定する場合、"DT "という文字が最初にあり、その後に2つの数字が続くというパターンを作成することができます。

コンピュータには、以下のようなテキストのパターンを定義する特別な方法がある。**正規表現**特別な記号を使い、数字や文字、あるいは任意の文字を予期するようコンピュータに指示します。 コンピュータが"`*`"文字をワイルドカードとして使用します。 たとえば、パターン"`DT*`「を満たすことができる。`DTA`", "`DTB`"、あるいは"`DT01`".**正規表現**は少し複雑ですが、その代わり、パターン内のルールをより具体的にすることができます。 学習に投資する**正規表現**AEC業界では命名規則が重要であるため、強く推奨される。

以下はよくある例です：

| パターン | 説明 | パターン基準を満たす値の例 | パターンに当てはまらない値の例 |
| ------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------ |
| `DT01` | 記号を使わず、文字と数字だけを使う場合、パターンは完全一致と同じになります。 | 「DT01`" | DT01`"以外は失敗する。 |
| `DT_ABC-01` | 文字と数字を除けば、"`_`"と"`-`"の記号は特別な意味を持たないので、このパターンも完全一致と同じである。 | "`DT_ABC-01`" | DT_ABC-01`"以外は失敗する。 |
| `DTだ。` | 記号"`.`"は、あらゆる_1文字に対するワイルドカードである。 | 「DT1`」、「DT2`」、「DTA`」、「DTX`」、「DT+`」など。 | 「DT01`」は、「`DT`」の後に複数の文字があるため、マッチしない。 「`ADT1`」は、「`DT`」ではなく「`A`」で始まるため、マッチしない。 |
| `DT...` | .`"ワイルドカード記号が複数回使用された場合、そのたびに別の_1文字を表します。 | 「DT01`"、"`DT02`"、"`DTAB`"、"`DTXY`"、"`DT++`"など。 | 「DT1`」は、「`DT`」の後に2文字がないため、マッチしない。 |
| `DT.*.` | 記号"`.`"の後に"`*`"記号を使用して"`.*`"を作成すると、1文字だけでなく、何文字でもワイルドカードになる。 つまり、`DT`で始まるものは、その後にどんな文字があってもマッチする。 | 「DT1`"、"`DT02`"、"`DTA`"、"`DTXYZ`"、"`DT+1-BC=123`"など。 | ADT`」、「`ABC-DT01`」など、「`DT`」で始まらないものは失敗する。 |
| `.*DT.*` | 今回は「`.*`」という記号の組み合わせが「`DT`」というテキストの前と後の両方に使われている。つまり、「`DT`」というテキストの前にも後にも、（ゼロ文字も含めて）いくつでも文字が入ることになる。 | 「DT1`」、「ADT`」、「ADT1`」、「`ABCDT01`」、「`ABC-DT-01`」はすべてマッチする。 | ADIT`」、「`TD`」、「`D-T`」など、「`DT`」を含まないものは失敗する。 |
| `DT[0-9］` | 0-9]`」の記号の組み合わせは、テキスト「`DT`」の後に0から9までの任意の_1桁の数字が許されることを意味する。 | "`DT0`"、"`DT1`"、"`DT2`"から"`DT9`"まではすべて一致する。 | DT`」、「`DTA`」、「`DT123`」のように、「`DT`」の後に1桁の数字がないものは失敗する。 |
| `DT[0-9]*` | 0-9]`」記号の後に「*`」記号を使用して「`[0-9]*`」を作成すると、テキスト「`DT`」の後に任意の桁数（ゼロを含む！）を指定できることを意味する。 | "`DT`"、"`DT1`"、"`DT12`"、"`DT012345`"などがマッチする。 | DTABC`"、"`DT01A`"、"DTA1B2 "などのように、"`DT`"の後に数字以外を含む値は失敗する。 |
| `DT[0-9]{2}` | 今回は"`*`"記号を加える代わりに"`{2}`"記号を加える。これは、"`DT`"の後にちょうど2桁の数字が欲しいことを意味する。 | 「DT01`"、"`DT24`"、"`DT99`"などはすべて一致する。 | DTA`"、"`DT0`"、"`DT123`"のように、2桁以外は失敗する。 |

**Regex** is a well-established methodology and can achieve very advanced pattern matching, but can take a while to fully learn its capabilities. As a result, only a few basic examples are shown here. Teaching the full capabilities is outside the scope of the IDS documentation. To make full use of it, there are plenty of online tutorials and resources:

- [初心者向け正規表現チュートリアル](https://regexone.com/)
- [オンライン正規表現テストサイト](https://regex101.com/)
- [XML正規表現](https://www.regular-expressions.info/xml.html)

Regexには複数の「フレーバー」または「方言」があるため、最初の2つのリンクは有用な学習リソースですが、IDSでは使用できないRegex機能も含まれている可能性があることに注意してください。 3番目のリンク（XML正規表現）は、IDSで使用できるものに関する信頼できるソースとして参照できます。 一般的に、IDSのRegexはよりシンプルであり、高度なRegex機能は含まれていません。

## 限度

A**限度**制限では、値が数値であり、値の範囲内に収まっていなければならないことを指定できます。 最小値、最大値、またはその両方を指定できます。 また、最小値または最大値のどちらを含めるかを指定することもできます（たとえば`>=`そして`<=`または排他的（例えば`>`そして`<`例えば、ある値が「3以上」かつ「10以下」でなければならないと指定することができる。

## 長さ

A**長さ**制限は、値として許される正確な文字数を指定します。 たとえば、長さを 3 と指定した場合、" のような 3 文字の値は "0" になります。`ABC`「または`123`"のような他の値は、あなたの要求を満たすでしょう。`AB`「または`ABC123`"はあなたの要求を満たさない。

同様に**最大長**または**最小の長さ**. A**最大長**の値が5であれば、"`ABCDE`"のような値は許さない。`ABCDEF`". A**最小の長さ**の値が3であれば、"`ABC`"の値は許さない。`AB`".

を指定することによっても同じ効果を得ることができる。**パターン**などと言う。`.{3}`「しかし**長さ**の方がシンプルで計算が早い。
